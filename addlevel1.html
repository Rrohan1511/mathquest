<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Addition</title>
    <link rel="stylesheet" href="addlevel1.css"> <!-- Link to external CSS file -->
</head>

<body>
    <div>
        <a href="setting.html"> <img src="setting.png" alt="setting" id="setting1-button"></a>
    </div>
    <div class="container">
        <h1>Addition Level 1</h1>
        <div class="question" id="question">What is 3 + 6?</div>
        <div class="options" id="options">
            <div class="option">9</div>
            <div class="option">18</div>
            <div class="option">7</div>
            <div class="option">12</div>
        </div>
        <div class="result" id="result"></div>
        <div id="timer">Timer: <span id="timerSpan"></span></div>
        <div id="stats"></div>
        <button id="backbutton" style="display: none;" class="back-button" onclick="goBack()">Back</button>
    </div>
    <!-- Sound Effects -->
    <audio id="correctSound" src="correct.mp3"></audio>
    <audio id="wrongSound" src="wrong.mp3"></audio>
    <script>
        // ... (your existing code)

        const timerElement = document.getElementById("timerSpan");
        const statsElement = document.getElementById("stats");
        let startTime;
        let bestTime = localStorage.getItem("bestTime") || Infinity;

        function startTimer() {
            startTime = Date.now();
            updateTimer();
        }

        function updateTimer() {
            const currentTime = Math.floor((Date.now() - startTime) / 1000);
            timerElement.textContent = currentTime;

            if (currentTime >= 60) {
                const minutes = Math.floor(currentTime / 60);
                timerElement.textContent = `${minutes}:${currentTime % 60}`;
            }

            requestAnimationFrame(updateTimer);
        }

        function endGame() {
            // ... (your existing code)

            const endTime = Date.now();
            const elapsedTime = Math.floor((endTime - startTime) / 1000);

            statsElement.textContent = `Time taken: ${elapsedTime} seconds`;

            if (elapsedTime < bestTime) {
                bestTime = elapsedTime;
                localStorage.setItem("bestTime", bestTime);
                statsElement.textContent += `\nBest Time: ${bestTime} seconds`;
            }
        }

        generateQuestion();
        startTimer();
    </script>
</body>

</html>
